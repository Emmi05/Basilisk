<%- include ('layouts/head.ejs') %>
<body id="page-top">

    <!-- Page Wrapper -->
    <div id="wrapper">
        <% if (login) { %> 
        <!-- Sidebar -->
        <%- include ('layouts/sidebar.ejs') %>
        <!-- end sidehar -->
       

        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">

            <!-- Main Content -->
            <div id="content">

                <!-- Topbar /header -->
                <%- include ('layouts/header.ejs') %>
                  <!-- header -->
                  <% } %> 
        
       <!-- Begin Page Content -->
       <% clientes.forEach(function(cliente) { %>
        <div class="container-fluid">
            <h1>Editar clientes</h1>
            <form class="row g-3" action="/updatecliente/<%= cliente.id %>" method="POST">
              <input id="id" name="id" value="<%= cliente.id %>" hidden>

              <div class="col-md-6">
                <label for="name" name="name" class="form-label">Nombre</label>
                <input type="text" class="form-control" id="name" name="name" value="<%= cliente.name %>" placeholder="Nombre">
              </div>

              <div class="col-md-6">
                <label for="a_paterno" name="a_paterno" class="form-label">Apellido Paterno</label>
                <input type="text" class="form-control" id="a_paterno" name="a_paterno" value="<%= cliente.a_paterno %>" placeholder="Apellido paterno">
              </div>
              <div class="col-md-6">
                <label for="a_materno" name="a_materno" class="form-label">Apellido Materno</label>
                <input type="text" class="form-control" id="a_materno" name="a_materno" value="<%= cliente.a_materno %>" placeholder="Apellido materno">
              </div>

              <div class="col-md-6">
                <label for="cel" class="form-label">Telefono</label>
                <input type="text" class="form-control" id="cel" name="cel" placeholder="Telefono"  value="<%= cliente.cel %>" maxlength="10">
                <div id="rol" class="form-text">
                  Solo debe contener números y 10 digitos.         
               </div>
            </div>
            <br>
            <br>
            <br>
            <br>
        
            <div class="col-12">
               <a href="#"  onclick="mostrarCampos()" class="btn btn-secondary">Agregar pariente</a>
            </div>

            <div class="col-md-6" id="campos1" style="display: none;">
              <label for="name" name="name" class="form-label">Nombre *</label>
              <input type="text" class="form-control" id="name_conyuge" name="name_conyuge"  value="<%= cliente.name_conyuge %>" placeholder="Nombre conyuge">
            </div>
            
            <div class="col-md-6" id="campos2" style="display: none;">
              <label for="a_paterno" name="a_paterno" class="form-label">Apellido Paterno *</label>
              <input type="text" class="form-control" id="a_paterno2" name="a_paterno_conyuge" value="<%= cliente.a_paterno_conyuge%>" placeholder="Apellido paterno">
            </div>
            
            <div class="col-md-6" id="campos3" style="display: none;">
              <label for="a_materno" name="a_materno" class="form-label">Apellido Materno *</label>
              <input type="text" class="form-control" id="a_materno_conyuge" name="a_materno_conyuge" value="<%= cliente.a_materno_conyuge %>" placeholder="Apellido Materno">
            </div>

            <div class="col-md-6" id="campos4" style="display: none;">
              <label for="cel" name="cel" class="form-label">Telefono *</label>
              <input type="text" class="form-control" id="cel2" name="cel_conyuge" value="<%= cliente.cel_conyuge %>" maxlength="10" placeholder="Telefono">
              <div id="rol" class="form-text">
                Solo debe contener números y 10 digitos.         
             </div>
            </div>
            


               <div class="col-12">
                <label for="adress" class="form-label">Dirección</label>
                <input type="text" class="form-control" id="adress" placeholder="Calle 7 Mozimba" name="adress" value="<%= cliente.adress %>">
                <div id="rol" class="form-text">
                  Solo debe tener letras y números, debe ser mayor a 10 caracteres.
         
               </div>
              </div> 
          
              <br>
              <br>
              <br>
             <br>

              <div class="col-12">
                <a href="/clientes" class="btn btn-secondary">Cancelar</a>
                <button type="submit" class="btn btn-primary"  value="Save">Guardar</button>
              </div>
            </form>
       
              <% }); %>
            
            
              <%- include ('layouts/logout.ejs') %>
    		<!-- Bootstrap core JavaScript-->
  <script src="../resources/vendor/jquery/jquery.min.js"></script>
  <script src="../resources/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Core plugin JavaScript-->
  <script src="../resources/vendor/jquery-easing/jquery.easing.min.js"></script>

  <!-- Custom scripts for all pages-->
  <script src="../resources/scripts/sb-admin-2.min.js"></script>

  <!-- Page level plugins -->
  <script src="../resources/vendor/datatables/jquery.dataTables.min.js"></script>
  <script src="../resources/vendor/datatables/dataTables.bootstrap4.min.js"></script>

  <!-- Page level custom scripts -->
  <script src="../resources/scripts/datables.js"></script>

     		
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>

<% if (typeof alert != "undefined")  { %>
 <script>
 Swal.fire({
   title:'<%= alertTitle %>',
   text:'<%= alertMessage %>',
   icon:'<%= alertIcon %>',
   showConfirmButton:' <%= showConfirmButton %>',
   timer:' <%= timer %>'
 }).then(()=>{
   window.location='/<%= ruta %>'
 })
 </script>
<% } %>


 
<script>
  function mostrarCampos() {
    if (campos1.style.display === "none") {
      campos1.style.display = "block";
      campos2.style.display = "block";
      campos3.style.display = "block";
      campos4.style.display = "block";
    } else {
      campos1.style.display = "none";
      campos2.style.display = "none";
      campos3.style.display = "none";
      campos4.style.display = "none";
    }
  }
</script>
<%- include ('layouts/dash2.ejs') %>

</div>


</body>
</html>